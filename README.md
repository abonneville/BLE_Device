# BLE Device

Overall product will exchange sensor information with external client(s). This project will demonstrate the capability as a stepping stone to develop more advance products.

Project consists of the embedded software that will be developed for installation on a commercial of the shelf (COTS) single board computer that contains a; microcontroller, sensors, and BLE connectivity. This will be a bare metal solution, no RTOS required.
* The BLE interface will provide an abstract application layer to develop products.
* Serial Wire Viewer will provide access to debug messages.

## Code Structure

* `BLE` project folder contains the C++ BLE application layer, user interface for accessing BLE network.
* `CppUTest-Target` contains unit testing performed on the target platform.
* `HAL-Ext` project folder implements the BLE demo, generates the *.elf
* `HAL` project folder contains the driver and hardware abstraction layer generated by ST's STM32CubeMX tool; WPAN driver code, clock configuraiton, interrupt configuration, etc...

## Quick Start

This demo project was built for the STM32WB55RGV6 and installed on the STM32WB55 Nucleo Pack Board.

* Install [ST Microelectronics STM32CubeIDE](https://www.st.com/en/development-tools/stm32cubeide.html), v1.1.0 or later.

    (Other Eclipse based toolchains may also work, as long as a gcc cross-compiler is available for STM32.)

* Clone the BLE Device project into a local folder (e.g. BLE_Device)

* Launch Eclipse into your new workspace folder (e.g. BLE_Device). Import each of the Eclipse projects, see below for list under Code Structure.

* Build the "HAL-Ext" project. Load the "HAL-Ext.elf" using your preferred debugger (J-Link or ST-Link). 

* Setup Serial Wire Viewer to capture debug messages.

* Reset your target board, and the SWV ITM Data Console should begin displaying progress messages as it connects & interacts with your external client.

## Known Limitations
* Implements basic interface for server only, client interface will be added later.
* User objects (BLE variables) are expected to last the full lifetime of the application.

## Open Source Components

* [newlib](https://github.com/mirror/newlib-cygwin) v2.5.0 Note: installed with STM32CubeIDE

## Licensing

* BSD license (as described in LICENSE) applies to original source files from STM.

* Newlib is covered by several copyrights and licenses, as per the files in the `libc` directory.

